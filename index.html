<!doctype html>
<html>
    <head>
        <title>Google Maps in Elm</title>

        <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
        <link rel="import" href="bower_components/google-map/google-map.html">

        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <script type="text/javascript" src="app.js"></script>
        <script type="text/javascript">
            var app = Elm.Main.fullscreen();
            app.ports.addMarker.subscribe(function(pos) {
                var gmap = document.querySelector('google-map');
                var marker = document.createElement('google-map-marker');
                marker.setAttribute('latitude', pos);
                marker.setAttribute('longitude', pos);
                marker.setAttribute('title', "Dynamic marker");

                Polymer.dom(gmap).appendChild(marker);
            });
        </script>
    </body>
</html>
